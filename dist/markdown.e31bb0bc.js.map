{"version":3,"sources":["node_modules/cssfilter/lib/default.js","node_modules/cssfilter/lib/util.js","node_modules/cssfilter/lib/parser.js","node_modules/cssfilter/lib/css.js","node_modules/cssfilter/lib/index.js","node_modules/xss/lib/util.js","node_modules/xss/lib/default.js","node_modules/xss/lib/parser.js","node_modules/xss/lib/xss.js","node_modules/xss/lib/index.js","node_modules/marked/lib/marked.js","Markdown.js","index.js","../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["module","exports","indexOf","arr","item","i","j","Array","prototype","length","forEach","fn","scope","call","trim","str","String","replace","spaceIndex","reg","match","exec","index","FilterCSS","require","getDefaultCSSWhiteList","getDefaultWhiteList","_","a","abbr","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","caption","center","cite","code","col","colgroup","dd","del","details","div","dl","dt","em","font","footer","h1","h2","h3","h4","h5","h6","header","hr","img","ins","li","mark","nav","ol","p","pre","s","section","small","span","sub","sup","strong","table","tbody","td","tfoot","th","thead","tr","tt","u","ul","video","defaultCSSFilter","onTag","tag","html","options","onIgnoreTag","onTagAttr","name","value","onIgnoreTagAttr","escapeHtml","REGEXP_LT","REGEXP_GT","safeAttrValue","cssFilter","friendlyAttrValue","substr","REGEXP_DEFAULT_ON_TAG_ATTR_4","lastIndex","test","REGEXP_DEFAULT_ON_TAG_ATTR_7","REGEXP_DEFAULT_ON_TAG_ATTR_8","process","escapeAttrValue","REGEXP_QUOTE","REGEXP_QUOTE_2","REGEXP_ATTR_VALUE_1","REGEXP_ATTR_VALUE_COLON","REGEXP_ATTR_VALUE_NEWLINE","REGEXP_DEFAULT_ON_TAG_ATTR_3","REGEXP_DEFAULT_ON_TAG_ATTR_5","REGEXP_DEFAULT_ON_TAG_ATTR_6","escapeQuote","unescapeQuote","escapeHtmlEntities","replaceUnicode","fromCharCode","parseInt","escapeDangerHtml5Entities","clearNonPrintableCharacter","str2","len","charCodeAt","charAt","onIgnoreTagStripAll","StripTagBody","tags","next","isRemoveAllTag","isArray","isRemoveTag","removeList","posStart","isClosing","ret","end","position","push","remove","rethtml","lastPos","pos","slice","stripCommentTag","STRIP_COMMENT_TAG_REGEXP","stripBlankChar","chars","split","filter","char","c","join","whiteList","getTagName","tagName","toLowerCase","parseTag","tagStart","quoteStart","currentPos","currentTagName","currentHtml","REGEXP_ILLEGAL_ATTR_NAME","parseAttr","onAttr","retAttrs","tmpName","addAttr","v","findNextEqual","findBeforeEqual","stripQuoteWrap","isQuoteWrapString","text","DEFAULT","parser","isNull","obj","undefined","getAttrs","closing","shallowCopyObject","FilterXSS","stripIgnoreTag","console","error","css","toString","me","allowCommentTag","stripIgnoreTagBody","retHtml","sourcePosition","info","isWhite","hasOwnProperty","attrs","whiteAttrList","attrsHtml","isWhiteAttr","filterXSS","xss","window","isWorkerEnv","self","DedicatedWorkerGlobalScope","root","block","newline","fences","noop","heading","nptable","list","def","lheading","paragraph","_label","_title","edit","getRegex","bullet","source","_tag","_comment","normal","merge","gfm","tables","pedantic","Lexer","tokens","links","Object","create","marked","defaults","rules","lex","src","lexer","token","top","loose","cap","bull","listStart","listItems","t","space","l","isordered","istask","ischecked","substring","type","rtrim","lang","depth","splitCells","align","cells","ordered","start","RegExp","smartLists","task","checked","sanitize","sanitizer","href","title","Error","inline","escape","autolink","url","link","reflink","nolink","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","breaks","InlineLexer","renderer","Renderer","output","out","prevCapZero","inLink","inRawBlock","lastParenIndex","findClosingBracket","linkLen","outputLink","escapes","codespan","mangle","smartypants","image","ch","Math","random","infostring","escaped","highlight","langPrefix","quote","level","raw","slugger","headerIds","headerPrefix","slug","xhtml","body","startatt","listitem","checkbox","tablerow","content","tablecell","flags","cleanUrl","baseUrl","TextRenderer","Parser","Slugger","parse","inlineText","reverse","tok","pop","peek","parseText","unescape","row","cell","errMsg","silent","log","seen","originalSlug","encode","escapeTest","escapeReplace","replacements","escapeTestNoEncode","escapeReplaceNoEncode","n","regex","opt","val","base","prot","decodeURIComponent","e","originIndependentUrl","resolveUrl","encodeURI","baseUrls","target","key","arguments","tableRow","count","offset","curr","splice","invert","suffLen","currChar","callback","pending","done","err","message","setOptions","getDefaults","inlineLexer","define","amd","global","Markdown","event","setState","update","state","__html","React","Component","ReactDOM","render","document","getElementById","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","appendChild","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCAA,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,OAAO,EAAE,UAASC,GAAT,EAAcC,IAAd,EAAoB;AAC3B,QAAIC,CAAJ,EAAOC,CAAP;;AACA,QAAIC,KAAK,CAACC,SAAN,CAAgBN,OAApB,EAA6B;AAC3B,aAAOC,GAAG,CAACD,OAAJ,CAAYE,IAAZ,CAAP;AAC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","file":"markdown.e31bb0bc.js","sourceRoot":"..","sourcesContent":["/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nfunction getDefaultWhiteList () {\n  // 白名单值说明：\n  // true: 允许该属性\n  // Function: function (val) { } 返回true表示允许该属性，其他值均表示不允许\n  // RegExp: regexp.test(val) 返回true表示允许该属性，其他值均表示不允许\n  // 除上面列出的值外均表示不允许\n  var whiteList = {};\n\n  whiteList['align-content'] = false; // default: auto\n  whiteList['align-items'] = false; // default: auto\n  whiteList['align-self'] = false; // default: auto\n  whiteList['alignment-adjust'] = false; // default: auto\n  whiteList['alignment-baseline'] = false; // default: baseline\n  whiteList['all'] = false; // default: depending on individual properties\n  whiteList['anchor-point'] = false; // default: none\n  whiteList['animation'] = false; // default: depending on individual properties\n  whiteList['animation-delay'] = false; // default: 0\n  whiteList['animation-direction'] = false; // default: normal\n  whiteList['animation-duration'] = false; // default: 0\n  whiteList['animation-fill-mode'] = false; // default: none\n  whiteList['animation-iteration-count'] = false; // default: 1\n  whiteList['animation-name'] = false; // default: none\n  whiteList['animation-play-state'] = false; // default: running\n  whiteList['animation-timing-function'] = false; // default: ease\n  whiteList['azimuth'] = false; // default: center\n  whiteList['backface-visibility'] = false; // default: visible\n  whiteList['background'] = true; // default: depending on individual properties\n  whiteList['background-attachment'] = true; // default: scroll\n  whiteList['background-clip'] = true; // default: border-box\n  whiteList['background-color'] = true; // default: transparent\n  whiteList['background-image'] = true; // default: none\n  whiteList['background-origin'] = true; // default: padding-box\n  whiteList['background-position'] = true; // default: 0% 0%\n  whiteList['background-repeat'] = true; // default: repeat\n  whiteList['background-size'] = true; // default: auto\n  whiteList['baseline-shift'] = false; // default: baseline\n  whiteList['binding'] = false; // default: none\n  whiteList['bleed'] = false; // default: 6pt\n  whiteList['bookmark-label'] = false; // default: content()\n  whiteList['bookmark-level'] = false; // default: none\n  whiteList['bookmark-state'] = false; // default: open\n  whiteList['border'] = true; // default: depending on individual properties\n  whiteList['border-bottom'] = true; // default: depending on individual properties\n  whiteList['border-bottom-color'] = true; // default: current color\n  whiteList['border-bottom-left-radius'] = true; // default: 0\n  whiteList['border-bottom-right-radius'] = true; // default: 0\n  whiteList['border-bottom-style'] = true; // default: none\n  whiteList['border-bottom-width'] = true; // default: medium\n  whiteList['border-collapse'] = true; // default: separate\n  whiteList['border-color'] = true; // default: depending on individual properties\n  whiteList['border-image'] = true; // default: none\n  whiteList['border-image-outset'] = true; // default: 0\n  whiteList['border-image-repeat'] = true; // default: stretch\n  whiteList['border-image-slice'] = true; // default: 100%\n  whiteList['border-image-source'] = true; // default: none\n  whiteList['border-image-width'] = true; // default: 1\n  whiteList['border-left'] = true; // default: depending on individual properties\n  whiteList['border-left-color'] = true; // default: current color\n  whiteList['border-left-style'] = true; // default: none\n  whiteList['border-left-width'] = true; // default: medium\n  whiteList['border-radius'] = true; // default: 0\n  whiteList['border-right'] = true; // default: depending on individual properties\n  whiteList['border-right-color'] = true; // default: current color\n  whiteList['border-right-style'] = true; // default: none\n  whiteList['border-right-width'] = true; // default: medium\n  whiteList['border-spacing'] = true; // default: 0\n  whiteList['border-style'] = true; // default: depending on individual properties\n  whiteList['border-top'] = true; // default: depending on individual properties\n  whiteList['border-top-color'] = true; // default: current color\n  whiteList['border-top-left-radius'] = true; // default: 0\n  whiteList['border-top-right-radius'] = true; // default: 0\n  whiteList['border-top-style'] = true; // default: none\n  whiteList['border-top-width'] = true; // default: medium\n  whiteList['border-width'] = true; // default: depending on individual properties\n  whiteList['bottom'] = false; // default: auto\n  whiteList['box-decoration-break'] = true; // default: slice\n  whiteList['box-shadow'] = true; // default: none\n  whiteList['box-sizing'] = true; // default: content-box\n  whiteList['box-snap'] = true; // default: none\n  whiteList['box-suppress'] = true; // default: show\n  whiteList['break-after'] = true; // default: auto\n  whiteList['break-before'] = true; // default: auto\n  whiteList['break-inside'] = true; // default: auto\n  whiteList['caption-side'] = false; // default: top\n  whiteList['chains'] = false; // default: none\n  whiteList['clear'] = true; // default: none\n  whiteList['clip'] = false; // default: auto\n  whiteList['clip-path'] = false; // default: none\n  whiteList['clip-rule'] = false; // default: nonzero\n  whiteList['color'] = true; // default: implementation dependent\n  whiteList['color-interpolation-filters'] = true; // default: auto\n  whiteList['column-count'] = false; // default: auto\n  whiteList['column-fill'] = false; // default: balance\n  whiteList['column-gap'] = false; // default: normal\n  whiteList['column-rule'] = false; // default: depending on individual properties\n  whiteList['column-rule-color'] = false; // default: current color\n  whiteList['column-rule-style'] = false; // default: medium\n  whiteList['column-rule-width'] = false; // default: medium\n  whiteList['column-span'] = false; // default: none\n  whiteList['column-width'] = false; // default: auto\n  whiteList['columns'] = false; // default: depending on individual properties\n  whiteList['contain'] = false; // default: none\n  whiteList['content'] = false; // default: normal\n  whiteList['counter-increment'] = false; // default: none\n  whiteList['counter-reset'] = false; // default: none\n  whiteList['counter-set'] = false; // default: none\n  whiteList['crop'] = false; // default: auto\n  whiteList['cue'] = false; // default: depending on individual properties\n  whiteList['cue-after'] = false; // default: none\n  whiteList['cue-before'] = false; // default: none\n  whiteList['cursor'] = false; // default: auto\n  whiteList['direction'] = false; // default: ltr\n  whiteList['display'] = true; // default: depending on individual properties\n  whiteList['display-inside'] = true; // default: auto\n  whiteList['display-list'] = true; // default: none\n  whiteList['display-outside'] = true; // default: inline-level\n  whiteList['dominant-baseline'] = false; // default: auto\n  whiteList['elevation'] = false; // default: level\n  whiteList['empty-cells'] = false; // default: show\n  whiteList['filter'] = false; // default: none\n  whiteList['flex'] = false; // default: depending on individual properties\n  whiteList['flex-basis'] = false; // default: auto\n  whiteList['flex-direction'] = false; // default: row\n  whiteList['flex-flow'] = false; // default: depending on individual properties\n  whiteList['flex-grow'] = false; // default: 0\n  whiteList['flex-shrink'] = false; // default: 1\n  whiteList['flex-wrap'] = false; // default: nowrap\n  whiteList['float'] = false; // default: none\n  whiteList['float-offset'] = false; // default: 0 0\n  whiteList['flood-color'] = false; // default: black\n  whiteList['flood-opacity'] = false; // default: 1\n  whiteList['flow-from'] = false; // default: none\n  whiteList['flow-into'] = false; // default: none\n  whiteList['font'] = true; // default: depending on individual properties\n  whiteList['font-family'] = true; // default: implementation dependent\n  whiteList['font-feature-settings'] = true; // default: normal\n  whiteList['font-kerning'] = true; // default: auto\n  whiteList['font-language-override'] = true; // default: normal\n  whiteList['font-size'] = true; // default: medium\n  whiteList['font-size-adjust'] = true; // default: none\n  whiteList['font-stretch'] = true; // default: normal\n  whiteList['font-style'] = true; // default: normal\n  whiteList['font-synthesis'] = true; // default: weight style\n  whiteList['font-variant'] = true; // default: normal\n  whiteList['font-variant-alternates'] = true; // default: normal\n  whiteList['font-variant-caps'] = true; // default: normal\n  whiteList['font-variant-east-asian'] = true; // default: normal\n  whiteList['font-variant-ligatures'] = true; // default: normal\n  whiteList['font-variant-numeric'] = true; // default: normal\n  whiteList['font-variant-position'] = true; // default: normal\n  whiteList['font-weight'] = true; // default: normal\n  whiteList['grid'] = false; // default: depending on individual properties\n  whiteList['grid-area'] = false; // default: depending on individual properties\n  whiteList['grid-auto-columns'] = false; // default: auto\n  whiteList['grid-auto-flow'] = false; // default: none\n  whiteList['grid-auto-rows'] = false; // default: auto\n  whiteList['grid-column'] = false; // default: depending on individual properties\n  whiteList['grid-column-end'] = false; // default: auto\n  whiteList['grid-column-start'] = false; // default: auto\n  whiteList['grid-row'] = false; // default: depending on individual properties\n  whiteList['grid-row-end'] = false; // default: auto\n  whiteList['grid-row-start'] = false; // default: auto\n  whiteList['grid-template'] = false; // default: depending on individual properties\n  whiteList['grid-template-areas'] = false; // default: none\n  whiteList['grid-template-columns'] = false; // default: none\n  whiteList['grid-template-rows'] = false; // default: none\n  whiteList['hanging-punctuation'] = false; // default: none\n  whiteList['height'] = true; // default: auto\n  whiteList['hyphens'] = false; // default: manual\n  whiteList['icon'] = false; // default: auto\n  whiteList['image-orientation'] = false; // default: auto\n  whiteList['image-resolution'] = false; // default: normal\n  whiteList['ime-mode'] = false; // default: auto\n  whiteList['initial-letters'] = false; // default: normal\n  whiteList['inline-box-align'] = false; // default: last\n  whiteList['justify-content'] = false; // default: auto\n  whiteList['justify-items'] = false; // default: auto\n  whiteList['justify-self'] = false; // default: auto\n  whiteList['left'] = false; // default: auto\n  whiteList['letter-spacing'] = true; // default: normal\n  whiteList['lighting-color'] = true; // default: white\n  whiteList['line-box-contain'] = false; // default: block inline replaced\n  whiteList['line-break'] = false; // default: auto\n  whiteList['line-grid'] = false; // default: match-parent\n  whiteList['line-height'] = false; // default: normal\n  whiteList['line-snap'] = false; // default: none\n  whiteList['line-stacking'] = false; // default: depending on individual properties\n  whiteList['line-stacking-ruby'] = false; // default: exclude-ruby\n  whiteList['line-stacking-shift'] = false; // default: consider-shifts\n  whiteList['line-stacking-strategy'] = false; // default: inline-line-height\n  whiteList['list-style'] = true; // default: depending on individual properties\n  whiteList['list-style-image'] = true; // default: none\n  whiteList['list-style-position'] = true; // default: outside\n  whiteList['list-style-type'] = true; // default: disc\n  whiteList['margin'] = true; // default: depending on individual properties\n  whiteList['margin-bottom'] = true; // default: 0\n  whiteList['margin-left'] = true; // default: 0\n  whiteList['margin-right'] = true; // default: 0\n  whiteList['margin-top'] = true; // default: 0\n  whiteList['marker-offset'] = false; // default: auto\n  whiteList['marker-side'] = false; // default: list-item\n  whiteList['marks'] = false; // default: none\n  whiteList['mask'] = false; // default: border-box\n  whiteList['mask-box'] = false; // default: see individual properties\n  whiteList['mask-box-outset'] = false; // default: 0\n  whiteList['mask-box-repeat'] = false; // default: stretch\n  whiteList['mask-box-slice'] = false; // default: 0 fill\n  whiteList['mask-box-source'] = false; // default: none\n  whiteList['mask-box-width'] = false; // default: auto\n  whiteList['mask-clip'] = false; // default: border-box\n  whiteList['mask-image'] = false; // default: none\n  whiteList['mask-origin'] = false; // default: border-box\n  whiteList['mask-position'] = false; // default: center\n  whiteList['mask-repeat'] = false; // default: no-repeat\n  whiteList['mask-size'] = false; // default: border-box\n  whiteList['mask-source-type'] = false; // default: auto\n  whiteList['mask-type'] = false; // default: luminance\n  whiteList['max-height'] = true; // default: none\n  whiteList['max-lines'] = false; // default: none\n  whiteList['max-width'] = true; // default: none\n  whiteList['min-height'] = true; // default: 0\n  whiteList['min-width'] = true; // default: 0\n  whiteList['move-to'] = false; // default: normal\n  whiteList['nav-down'] = false; // default: auto\n  whiteList['nav-index'] = false; // default: auto\n  whiteList['nav-left'] = false; // default: auto\n  whiteList['nav-right'] = false; // default: auto\n  whiteList['nav-up'] = false; // default: auto\n  whiteList['object-fit'] = false; // default: fill\n  whiteList['object-position'] = false; // default: 50% 50%\n  whiteList['opacity'] = false; // default: 1\n  whiteList['order'] = false; // default: 0\n  whiteList['orphans'] = false; // default: 2\n  whiteList['outline'] = false; // default: depending on individual properties\n  whiteList['outline-color'] = false; // default: invert\n  whiteList['outline-offset'] = false; // default: 0\n  whiteList['outline-style'] = false; // default: none\n  whiteList['outline-width'] = false; // default: medium\n  whiteList['overflow'] = false; // default: depending on individual properties\n  whiteList['overflow-wrap'] = false; // default: normal\n  whiteList['overflow-x'] = false; // default: visible\n  whiteList['overflow-y'] = false; // default: visible\n  whiteList['padding'] = true; // default: depending on individual properties\n  whiteList['padding-bottom'] = true; // default: 0\n  whiteList['padding-left'] = true; // default: 0\n  whiteList['padding-right'] = true; // default: 0\n  whiteList['padding-top'] = true; // default: 0\n  whiteList['page'] = false; // default: auto\n  whiteList['page-break-after'] = false; // default: auto\n  whiteList['page-break-before'] = false; // default: auto\n  whiteList['page-break-inside'] = false; // default: auto\n  whiteList['page-policy'] = false; // default: start\n  whiteList['pause'] = false; // default: implementation dependent\n  whiteList['pause-after'] = false; // default: implementation dependent\n  whiteList['pause-before'] = false; // default: implementation dependent\n  whiteList['perspective'] = false; // default: none\n  whiteList['perspective-origin'] = false; // default: 50% 50%\n  whiteList['pitch'] = false; // default: medium\n  whiteList['pitch-range'] = false; // default: 50\n  whiteList['play-during'] = false; // default: auto\n  whiteList['position'] = false; // default: static\n  whiteList['presentation-level'] = false; // default: 0\n  whiteList['quotes'] = false; // default: text\n  whiteList['region-fragment'] = false; // default: auto\n  whiteList['resize'] = false; // default: none\n  whiteList['rest'] = false; // default: depending on individual properties\n  whiteList['rest-after'] = false; // default: none\n  whiteList['rest-before'] = false; // default: none\n  whiteList['richness'] = false; // default: 50\n  whiteList['right'] = false; // default: auto\n  whiteList['rotation'] = false; // default: 0\n  whiteList['rotation-point'] = false; // default: 50% 50%\n  whiteList['ruby-align'] = false; // default: auto\n  whiteList['ruby-merge'] = false; // default: separate\n  whiteList['ruby-position'] = false; // default: before\n  whiteList['shape-image-threshold'] = false; // default: 0.0\n  whiteList['shape-outside'] = false; // default: none\n  whiteList['shape-margin'] = false; // default: 0\n  whiteList['size'] = false; // default: auto\n  whiteList['speak'] = false; // default: auto\n  whiteList['speak-as'] = false; // default: normal\n  whiteList['speak-header'] = false; // default: once\n  whiteList['speak-numeral'] = false; // default: continuous\n  whiteList['speak-punctuation'] = false; // default: none\n  whiteList['speech-rate'] = false; // default: medium\n  whiteList['stress'] = false; // default: 50\n  whiteList['string-set'] = false; // default: none\n  whiteList['tab-size'] = false; // default: 8\n  whiteList['table-layout'] = false; // default: auto\n  whiteList['text-align'] = true; // default: start\n  whiteList['text-align-last'] = true; // default: auto\n  whiteList['text-combine-upright'] = true; // default: none\n  whiteList['text-decoration'] = true; // default: none\n  whiteList['text-decoration-color'] = true; // default: currentColor\n  whiteList['text-decoration-line'] = true; // default: none\n  whiteList['text-decoration-skip'] = true; // default: objects\n  whiteList['text-decoration-style'] = true; // default: solid\n  whiteList['text-emphasis'] = true; // default: depending on individual properties\n  whiteList['text-emphasis-color'] = true; // default: currentColor\n  whiteList['text-emphasis-position'] = true; // default: over right\n  whiteList['text-emphasis-style'] = true; // default: none\n  whiteList['text-height'] = true; // default: auto\n  whiteList['text-indent'] = true; // default: 0\n  whiteList['text-justify'] = true; // default: auto\n  whiteList['text-orientation'] = true; // default: mixed\n  whiteList['text-overflow'] = true; // default: clip\n  whiteList['text-shadow'] = true; // default: none\n  whiteList['text-space-collapse'] = true; // default: collapse\n  whiteList['text-transform'] = true; // default: none\n  whiteList['text-underline-position'] = true; // default: auto\n  whiteList['text-wrap'] = true; // default: normal\n  whiteList['top'] = false; // default: auto\n  whiteList['transform'] = false; // default: none\n  whiteList['transform-origin'] = false; // default: 50% 50% 0\n  whiteList['transform-style'] = false; // default: flat\n  whiteList['transition'] = false; // default: depending on individual properties\n  whiteList['transition-delay'] = false; // default: 0s\n  whiteList['transition-duration'] = false; // default: 0s\n  whiteList['transition-property'] = false; // default: all\n  whiteList['transition-timing-function'] = false; // default: ease\n  whiteList['unicode-bidi'] = false; // default: normal\n  whiteList['vertical-align'] = false; // default: baseline\n  whiteList['visibility'] = false; // default: visible\n  whiteList['voice-balance'] = false; // default: center\n  whiteList['voice-duration'] = false; // default: auto\n  whiteList['voice-family'] = false; // default: implementation dependent\n  whiteList['voice-pitch'] = false; // default: medium\n  whiteList['voice-range'] = false; // default: medium\n  whiteList['voice-rate'] = false; // default: normal\n  whiteList['voice-stress'] = false; // default: normal\n  whiteList['voice-volume'] = false; // default: medium\n  whiteList['volume'] = false; // default: medium\n  whiteList['white-space'] = false; // default: normal\n  whiteList['widows'] = false; // default: 2\n  whiteList['width'] = true; // default: auto\n  whiteList['will-change'] = false; // default: auto\n  whiteList['word-break'] = true; // default: normal\n  whiteList['word-spacing'] = true; // default: normal\n  whiteList['word-wrap'] = true; // default: normal\n  whiteList['wrap-flow'] = false; // default: auto\n  whiteList['wrap-through'] = false; // default: wrap\n  whiteList['writing-mode'] = false; // default: horizontal-tb\n  whiteList['z-index'] = false; // default: auto\n\n  return whiteList;\n}\n\n\n/**\n * 匹配到白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onAttr (name, value, options) {\n  // do nothing\n}\n\n/**\n * 匹配到不在白名单上的一个属性时\n *\n * @param {String} name\n * @param {String} value\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreAttr (name, value, options) {\n  // do nothing\n}\n\nvar REGEXP_URL_JAVASCRIPT = /javascript\\s*\\:/img;\n\n/**\n * 过滤属性值\n *\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction safeAttrValue(name, value) {\n  if (REGEXP_URL_JAVASCRIPT.test(value)) return '';\n  return value;\n}\n\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onAttr = onAttr;\nexports.onIgnoreAttr = onIgnoreAttr;\nexports.safeAttrValue = safeAttrValue;\n","module.exports = {\n  indexOf: function (arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function (arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function (str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, '');\n  },\n  trimRight: function (str) {\n    if (String.prototype.trimRight) {\n      return str.trimRight();\n    }\n    return str.replace(/(\\s*$)/g, '');\n  }\n};\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar _ = require('./util');\n\n\n/**\n * 解析style\n *\n * @param {String} css\n * @param {Function} onAttr 处理属性的函数\n *   参数格式： function (sourcePosition, position, name, value, source)\n * @return {String}\n */\nfunction parseStyle (css, onAttr) {\n  css = _.trimRight(css);\n  if (css[css.length - 1] !== ';') css += ';';\n  var cssLength = css.length;\n  var isParenthesisOpen = false;\n  var lastPos = 0;\n  var i = 0;\n  var retCSS = '';\n\n  function addNewAttr () {\n    // 如果没有正常的闭合圆括号，则直接忽略当前属性\n    if (!isParenthesisOpen) {\n      var source = _.trim(css.slice(lastPos, i));\n      var j = source.indexOf(':');\n      if (j !== -1) {\n        var name = _.trim(source.slice(0, j));\n        var value = _.trim(source.slice(j + 1));\n        // 必须有属性名称\n        if (name) {\n          var ret = onAttr(lastPos, retCSS.length, name, value, source);\n          if (ret) retCSS += ret + '; ';\n        }\n      }\n    }\n    lastPos = i + 1;\n  }\n\n  for (; i < cssLength; i++) {\n    var c = css[i];\n    if (c === '/' && css[i + 1] === '*') {\n      // 备注开始\n      var j = css.indexOf('*/', i + 2);\n      // 如果没有正常的备注结束，则后面的部分全部跳过\n      if (j === -1) break;\n      // 直接将当前位置调到备注结尾，并且初始化状态\n      i = j + 1;\n      lastPos = i + 1;\n      isParenthesisOpen = false;\n    } else if (c === '(') {\n      isParenthesisOpen = true;\n    } else if (c === ')') {\n      isParenthesisOpen = false;\n    } else if (c === ';') {\n      if (isParenthesisOpen) {\n        // 在圆括号里面，忽略\n      } else {\n        addNewAttr();\n      }\n    } else if (c === '\\n') {\n      addNewAttr();\n    }\n  }\n\n  return _.trim(retCSS);\n}\n\nmodule.exports = parseStyle;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar parseStyle = require('./parser');\nvar _ = require('./util');\n\n\n/**\n * 返回值是否为空\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull (obj) {\n  return (obj === undefined || obj === null);\n}\n\n/**\n * 浅拷贝对象\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject (obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * 创建CSS过滤器\n *\n * @param {Object} options\n *   - {Object} whiteList\n *   - {Function} onAttr\n *   - {Function} onIgnoreAttr\n *   - {Function} safeAttrValue\n */\nfunction FilterCSS (options) {\n  options = shallowCopyObject(options || {});\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onAttr = options.onAttr || DEFAULT.onAttr;\n  options.onIgnoreAttr = options.onIgnoreAttr || DEFAULT.onIgnoreAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  this.options = options;\n}\n\nFilterCSS.prototype.process = function (css) {\n  // 兼容各种奇葩输入\n  css = css || '';\n  css = css.toString();\n  if (!css) return '';\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onAttr = options.onAttr;\n  var onIgnoreAttr = options.onIgnoreAttr;\n  var safeAttrValue = options.safeAttrValue;\n\n  var retCSS = parseStyle(css, function (sourcePosition, position, name, value, source) {\n\n    var check = whiteList[name];\n    var isWhite = false;\n    if (check === true) isWhite = check;\n    else if (typeof check === 'function') isWhite = check(value);\n    else if (check instanceof RegExp) isWhite = check.test(value);\n    if (isWhite !== true) isWhite = false;\n\n    // 如果过滤后 value 为空则直接忽略\n    value = safeAttrValue(name, value);\n    if (!value) return;\n\n    var opts = {\n      position: position,\n      sourcePosition: sourcePosition,\n      source: source,\n      isWhite: isWhite\n    };\n\n    if (isWhite) {\n\n      var ret = onAttr(name, value, opts);\n      if (isNull(ret)) {\n        return name + ':' + value;\n      } else {\n        return ret;\n      }\n\n    } else {\n\n      var ret = onIgnoreAttr(name, value, opts);\n      if (!isNull(ret)) {\n        return ret;\n      }\n\n    }\n  });\n\n  return retCSS;\n};\n\n\nmodule.exports = FilterCSS;\n","/**\n * cssfilter\n *\n * @author 老雷<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require('./default');\nvar FilterCSS = require('./css');\n\n\n/**\n * XSS过滤\n *\n * @param {String} css 要过滤的CSS代码\n * @param {Object} options 选项：whiteList, onAttr, onIgnoreAttr\n * @return {String}\n */\nfunction filterCSS (html, options) {\n  var xss = new FilterCSS(options);\n  return xss.process(html);\n}\n\n\n// 输出\nexports = module.exports = filterCSS;\nexports.FilterCSS = FilterCSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\n\n// 在浏览器端使用\nif (typeof window !== 'undefined') {\n  window.filterCSS = module.exports;\n}\n","module.exports = {\n  indexOf: function(arr, item) {\n    var i, j;\n    if (Array.prototype.indexOf) {\n      return arr.indexOf(item);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      if (arr[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  },\n  forEach: function(arr, fn, scope) {\n    var i, j;\n    if (Array.prototype.forEach) {\n      return arr.forEach(fn, scope);\n    }\n    for (i = 0, j = arr.length; i < j; i++) {\n      fn.call(scope, arr[i], i, arr);\n    }\n  },\n  trim: function(str) {\n    if (String.prototype.trim) {\n      return str.trim();\n    }\n    return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n  },\n  spaceIndex: function(str) {\n    var reg = /\\s|\\n|\\t/;\n    var match = reg.exec(str);\n    return match ? match.index : -1;\n  }\n};\n","/**\n * default settings\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar getDefaultCSSWhiteList = require(\"cssfilter\").getDefaultWhiteList;\nvar _ = require(\"./util\");\n\nfunction getDefaultWhiteList() {\n  return {\n    a: [\"target\", \"href\", \"title\"],\n    abbr: [\"title\"],\n    address: [],\n    area: [\"shape\", \"coords\", \"href\", \"alt\"],\n    article: [],\n    aside: [],\n    audio: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\"],\n    b: [],\n    bdi: [\"dir\"],\n    bdo: [\"dir\"],\n    big: [],\n    blockquote: [\"cite\"],\n    br: [],\n    caption: [],\n    center: [],\n    cite: [],\n    code: [],\n    col: [\"align\", \"valign\", \"span\", \"width\"],\n    colgroup: [\"align\", \"valign\", \"span\", \"width\"],\n    dd: [],\n    del: [\"datetime\"],\n    details: [\"open\"],\n    div: [],\n    dl: [],\n    dt: [],\n    em: [],\n    font: [\"color\", \"size\", \"face\"],\n    footer: [],\n    h1: [],\n    h2: [],\n    h3: [],\n    h4: [],\n    h5: [],\n    h6: [],\n    header: [],\n    hr: [],\n    i: [],\n    img: [\"src\", \"alt\", \"title\", \"width\", \"height\"],\n    ins: [\"datetime\"],\n    li: [],\n    mark: [],\n    nav: [],\n    ol: [],\n    p: [],\n    pre: [],\n    s: [],\n    section: [],\n    small: [],\n    span: [],\n    sub: [],\n    sup: [],\n    strong: [],\n    table: [\"width\", \"border\", \"align\", \"valign\"],\n    tbody: [\"align\", \"valign\"],\n    td: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    tfoot: [\"align\", \"valign\"],\n    th: [\"width\", \"rowspan\", \"colspan\", \"align\", \"valign\"],\n    thead: [\"align\", \"valign\"],\n    tr: [\"rowspan\", \"align\", \"valign\"],\n    tt: [],\n    u: [],\n    ul: [],\n    video: [\"autoplay\", \"controls\", \"loop\", \"preload\", \"src\", \"height\", \"width\"]\n  };\n}\n\nvar defaultCSSFilter = new FilterCSS();\n\n/**\n * default onTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTag function\n *\n * @param {String} tag\n * @param {String} html\n * @param {Object} options\n * @return {String}\n */\nfunction onIgnoreTag(tag, html, options) {\n  // do nothing\n}\n\n/**\n * default onTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default onIgnoreTagAttr function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @return {String}\n */\nfunction onIgnoreTagAttr(tag, name, value) {\n  // do nothing\n}\n\n/**\n * default escapeHtml function\n *\n * @param {String} html\n */\nfunction escapeHtml(html) {\n  return html.replace(REGEXP_LT, \"&lt;\").replace(REGEXP_GT, \"&gt;\");\n}\n\n/**\n * default safeAttrValue function\n *\n * @param {String} tag\n * @param {String} name\n * @param {String} value\n * @param {Object} cssFilter\n * @return {String}\n */\nfunction safeAttrValue(tag, name, value, cssFilter) {\n  // unescape attribute value firstly\n  value = friendlyAttrValue(value);\n\n  if (name === \"href\" || name === \"src\") {\n    // filter `href` and `src` attribute\n    // only allow the value that starts with `http://` | `https://` | `mailto:` | `/` | `#`\n    value = _.trim(value);\n    if (value === \"#\") return \"#\";\n    if (\n      !(\n        value.substr(0, 7) === \"http://\" ||\n        value.substr(0, 8) === \"https://\" ||\n        value.substr(0, 7) === \"mailto:\" ||\n        value.substr(0, 4) === \"tel:\" ||\n        value[0] === \"#\" ||\n        value[0] === \"/\"\n      )\n    ) {\n      return \"\";\n    }\n  } else if (name === \"background\") {\n    // filter `background` attribute (maybe no use)\n    // `javascript:`\n    REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n      return \"\";\n    }\n  } else if (name === \"style\") {\n    // `expression()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_7.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_7.test(value)) {\n      return \"\";\n    }\n    // `url()`\n    REGEXP_DEFAULT_ON_TAG_ATTR_8.lastIndex = 0;\n    if (REGEXP_DEFAULT_ON_TAG_ATTR_8.test(value)) {\n      REGEXP_DEFAULT_ON_TAG_ATTR_4.lastIndex = 0;\n      if (REGEXP_DEFAULT_ON_TAG_ATTR_4.test(value)) {\n        return \"\";\n      }\n    }\n    if (cssFilter !== false) {\n      cssFilter = cssFilter || defaultCSSFilter;\n      value = cssFilter.process(value);\n    }\n  }\n\n  // escape `<>\"` before returns\n  value = escapeAttrValue(value);\n  return value;\n}\n\n// RegExp list\nvar REGEXP_LT = /</g;\nvar REGEXP_GT = />/g;\nvar REGEXP_QUOTE = /\"/g;\nvar REGEXP_QUOTE_2 = /&quot;/g;\nvar REGEXP_ATTR_VALUE_1 = /&#([a-zA-Z0-9]*);?/gim;\nvar REGEXP_ATTR_VALUE_COLON = /&colon;?/gim;\nvar REGEXP_ATTR_VALUE_NEWLINE = /&newline;?/gim;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_3 = /\\/\\*|\\*\\//gm;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_4 = /((j\\s*a\\s*v\\s*a|v\\s*b|l\\s*i\\s*v\\s*e)\\s*s\\s*c\\s*r\\s*i\\s*p\\s*t\\s*|m\\s*o\\s*c\\s*h\\s*a)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_5 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_6 = /^[\\s\"'`]*(d\\s*a\\s*t\\s*a\\s*)\\:\\s*image\\//gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_7 = /e\\s*x\\s*p\\s*r\\s*e\\s*s\\s*s\\s*i\\s*o\\s*n\\s*\\(.*/gi;\nvar REGEXP_DEFAULT_ON_TAG_ATTR_8 = /u\\s*r\\s*l\\s*\\(.*/gi;\n\n/**\n * escape doube quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction escapeQuote(str) {\n  return str.replace(REGEXP_QUOTE, \"&quot;\");\n}\n\n/**\n * unescape double quote\n *\n * @param {String} str\n * @return {String} str\n */\nfunction unescapeQuote(str) {\n  return str.replace(REGEXP_QUOTE_2, '\"');\n}\n\n/**\n * escape html entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeHtmlEntities(str) {\n  return str.replace(REGEXP_ATTR_VALUE_1, function replaceUnicode(str, code) {\n    return code[0] === \"x\" || code[0] === \"X\"\n      ? String.fromCharCode(parseInt(code.substr(1), 16))\n      : String.fromCharCode(parseInt(code, 10));\n  });\n}\n\n/**\n * escape html5 new danger entities\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeDangerHtml5Entities(str) {\n  return str\n    .replace(REGEXP_ATTR_VALUE_COLON, \":\")\n    .replace(REGEXP_ATTR_VALUE_NEWLINE, \" \");\n}\n\n/**\n * clear nonprintable characters\n *\n * @param {String} str\n * @return {String}\n */\nfunction clearNonPrintableCharacter(str) {\n  var str2 = \"\";\n  for (var i = 0, len = str.length; i < len; i++) {\n    str2 += str.charCodeAt(i) < 32 ? \" \" : str.charAt(i);\n  }\n  return _.trim(str2);\n}\n\n/**\n * get friendly attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction friendlyAttrValue(str) {\n  str = unescapeQuote(str);\n  str = escapeHtmlEntities(str);\n  str = escapeDangerHtml5Entities(str);\n  str = clearNonPrintableCharacter(str);\n  return str;\n}\n\n/**\n * unescape attribute value\n *\n * @param {String} str\n * @return {String}\n */\nfunction escapeAttrValue(str) {\n  str = escapeQuote(str);\n  str = escapeHtml(str);\n  return str;\n}\n\n/**\n * `onIgnoreTag` function for removing all the tags that are not in whitelist\n */\nfunction onIgnoreTagStripAll() {\n  return \"\";\n}\n\n/**\n * remove tag body\n * specify a `tags` list, if the tag is not in the `tags` list then process by the specify function (optional)\n *\n * @param {array} tags\n * @param {function} next\n */\nfunction StripTagBody(tags, next) {\n  if (typeof next !== \"function\") {\n    next = function() {};\n  }\n\n  var isRemoveAllTag = !Array.isArray(tags);\n  function isRemoveTag(tag) {\n    if (isRemoveAllTag) return true;\n    return _.indexOf(tags, tag) !== -1;\n  }\n\n  var removeList = [];\n  var posStart = false;\n\n  return {\n    onIgnoreTag: function(tag, html, options) {\n      if (isRemoveTag(tag)) {\n        if (options.isClosing) {\n          var ret = \"[/removed]\";\n          var end = options.position + ret.length;\n          removeList.push([\n            posStart !== false ? posStart : options.position,\n            end\n          ]);\n          posStart = false;\n          return ret;\n        } else {\n          if (!posStart) {\n            posStart = options.position;\n          }\n          return \"[removed]\";\n        }\n      } else {\n        return next(tag, html, options);\n      }\n    },\n    remove: function(html) {\n      var rethtml = \"\";\n      var lastPos = 0;\n      _.forEach(removeList, function(pos) {\n        rethtml += html.slice(lastPos, pos[0]);\n        lastPos = pos[1];\n      });\n      rethtml += html.slice(lastPos);\n      return rethtml;\n    }\n  };\n}\n\n/**\n * remove html comments\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripCommentTag(html) {\n  return html.replace(STRIP_COMMENT_TAG_REGEXP, \"\");\n}\nvar STRIP_COMMENT_TAG_REGEXP = /<!--[\\s\\S]*?-->/g;\n\n/**\n * remove invisible characters\n *\n * @param {String} html\n * @return {String}\n */\nfunction stripBlankChar(html) {\n  var chars = html.split(\"\");\n  chars = chars.filter(function(char) {\n    var c = char.charCodeAt(0);\n    if (c === 127) return false;\n    if (c <= 31) {\n      if (c === 10 || c === 13) return true;\n      return false;\n    }\n    return true;\n  });\n  return chars.join(\"\");\n}\n\nexports.whiteList = getDefaultWhiteList();\nexports.getDefaultWhiteList = getDefaultWhiteList;\nexports.onTag = onTag;\nexports.onIgnoreTag = onIgnoreTag;\nexports.onTagAttr = onTagAttr;\nexports.onIgnoreTagAttr = onIgnoreTagAttr;\nexports.safeAttrValue = safeAttrValue;\nexports.escapeHtml = escapeHtml;\nexports.escapeQuote = escapeQuote;\nexports.unescapeQuote = unescapeQuote;\nexports.escapeHtmlEntities = escapeHtmlEntities;\nexports.escapeDangerHtml5Entities = escapeDangerHtml5Entities;\nexports.clearNonPrintableCharacter = clearNonPrintableCharacter;\nexports.friendlyAttrValue = friendlyAttrValue;\nexports.escapeAttrValue = escapeAttrValue;\nexports.onIgnoreTagStripAll = onIgnoreTagStripAll;\nexports.StripTagBody = StripTagBody;\nexports.stripCommentTag = stripCommentTag;\nexports.stripBlankChar = stripBlankChar;\nexports.cssFilter = defaultCSSFilter;\nexports.getDefaultCSSWhiteList = getDefaultCSSWhiteList;\n","/**\n * Simple HTML Parser\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar _ = require(\"./util\");\n\n/**\n * get tag name\n *\n * @param {String} html e.g. '<a hef=\"#\">'\n * @return {String}\n */\nfunction getTagName(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    var tagName = html.slice(1, -1);\n  } else {\n    var tagName = html.slice(1, i + 1);\n  }\n  tagName = _.trim(tagName).toLowerCase();\n  if (tagName.slice(0, 1) === \"/\") tagName = tagName.slice(1);\n  if (tagName.slice(-1) === \"/\") tagName = tagName.slice(0, -1);\n  return tagName;\n}\n\n/**\n * is close tag?\n *\n * @param {String} html 如：'<a hef=\"#\">'\n * @return {Boolean}\n */\nfunction isClosing(html) {\n  return html.slice(0, 2) === \"</\";\n}\n\n/**\n * parse input html and returns processed html\n *\n * @param {String} html\n * @param {Function} onTag e.g. function (sourcePosition, position, tag, html, isClosing)\n * @param {Function} escapeHtml\n * @return {String}\n */\nfunction parseTag(html, onTag, escapeHtml) {\n  \"user strict\";\n\n  var rethtml = \"\";\n  var lastPos = 0;\n  var tagStart = false;\n  var quoteStart = false;\n  var currentPos = 0;\n  var len = html.length;\n  var currentTagName = \"\";\n  var currentHtml = \"\";\n\n  for (currentPos = 0; currentPos < len; currentPos++) {\n    var c = html.charAt(currentPos);\n    if (tagStart === false) {\n      if (c === \"<\") {\n        tagStart = currentPos;\n        continue;\n      }\n    } else {\n      if (quoteStart === false) {\n        if (c === \"<\") {\n          rethtml += escapeHtml(html.slice(lastPos, currentPos));\n          tagStart = currentPos;\n          lastPos = currentPos;\n          continue;\n        }\n        if (c === \">\") {\n          rethtml += escapeHtml(html.slice(lastPos, tagStart));\n          currentHtml = html.slice(tagStart, currentPos + 1);\n          currentTagName = getTagName(currentHtml);\n          rethtml += onTag(\n            tagStart,\n            rethtml.length,\n            currentTagName,\n            currentHtml,\n            isClosing(currentHtml)\n          );\n          lastPos = currentPos + 1;\n          tagStart = false;\n          continue;\n        }\n        if ((c === '\"' || c === \"'\") && html.charAt(currentPos - 1) === \"=\") {\n          quoteStart = c;\n          continue;\n        }\n      } else {\n        if (c === quoteStart) {\n          quoteStart = false;\n          continue;\n        }\n      }\n    }\n  }\n  if (lastPos < html.length) {\n    rethtml += escapeHtml(html.substr(lastPos));\n  }\n\n  return rethtml;\n}\n\nvar REGEXP_ILLEGAL_ATTR_NAME = /[^a-zA-Z0-9_:\\.\\-]/gim;\n\n/**\n * parse input attributes and returns processed attributes\n *\n * @param {String} html e.g. `href=\"#\" target=\"_blank\"`\n * @param {Function} onAttr e.g. `function (name, value)`\n * @return {String}\n */\nfunction parseAttr(html, onAttr) {\n  \"user strict\";\n\n  var lastPos = 0;\n  var retAttrs = [];\n  var tmpName = false;\n  var len = html.length;\n\n  function addAttr(name, value) {\n    name = _.trim(name);\n    name = name.replace(REGEXP_ILLEGAL_ATTR_NAME, \"\").toLowerCase();\n    if (name.length < 1) return;\n    var ret = onAttr(name, value || \"\");\n    if (ret) retAttrs.push(ret);\n  }\n\n  // 逐个分析字符\n  for (var i = 0; i < len; i++) {\n    var c = html.charAt(i);\n    var v, j;\n    if (tmpName === false && c === \"=\") {\n      tmpName = html.slice(lastPos, i);\n      lastPos = i + 1;\n      continue;\n    }\n    if (tmpName !== false) {\n      if (\n        i === lastPos &&\n        (c === '\"' || c === \"'\") &&\n        html.charAt(i - 1) === \"=\"\n      ) {\n        j = html.indexOf(c, i + 1);\n        if (j === -1) {\n          break;\n        } else {\n          v = _.trim(html.slice(lastPos + 1, j));\n          addAttr(tmpName, v);\n          tmpName = false;\n          i = j;\n          lastPos = i + 1;\n          continue;\n        }\n      }\n    }\n    if (/\\s|\\n|\\t/.test(c)) {\n      html = html.replace(/\\s|\\n|\\t/g, \" \");\n      if (tmpName === false) {\n        j = findNextEqual(html, i);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          addAttr(v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          i = j - 1;\n          continue;\n        }\n      } else {\n        j = findBeforeEqual(html, i - 1);\n        if (j === -1) {\n          v = _.trim(html.slice(lastPos, i));\n          v = stripQuoteWrap(v);\n          addAttr(tmpName, v);\n          tmpName = false;\n          lastPos = i + 1;\n          continue;\n        } else {\n          continue;\n        }\n      }\n    }\n  }\n\n  if (lastPos < html.length) {\n    if (tmpName === false) {\n      addAttr(html.slice(lastPos));\n    } else {\n      addAttr(tmpName, stripQuoteWrap(_.trim(html.slice(lastPos))));\n    }\n  }\n\n  return _.trim(retAttrs.join(\" \"));\n}\n\nfunction findNextEqual(str, i) {\n  for (; i < str.length; i++) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction findBeforeEqual(str, i) {\n  for (; i > 0; i--) {\n    var c = str[i];\n    if (c === \" \") continue;\n    if (c === \"=\") return i;\n    return -1;\n  }\n}\n\nfunction isQuoteWrapString(text) {\n  if (\n    (text[0] === '\"' && text[text.length - 1] === '\"') ||\n    (text[0] === \"'\" && text[text.length - 1] === \"'\")\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction stripQuoteWrap(text) {\n  if (isQuoteWrapString(text)) {\n    return text.substr(1, text.length - 2);\n  } else {\n    return text;\n  }\n}\n\nexports.parseTag = parseTag;\nexports.parseAttr = parseAttr;\n","/**\n * filter xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar FilterCSS = require(\"cssfilter\").FilterCSS;\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar parseTag = parser.parseTag;\nvar parseAttr = parser.parseAttr;\nvar _ = require(\"./util\");\n\n/**\n * returns `true` if the input value is `undefined` or `null`\n *\n * @param {Object} obj\n * @return {Boolean}\n */\nfunction isNull(obj) {\n  return obj === undefined || obj === null;\n}\n\n/**\n * get attributes for a tag\n *\n * @param {String} html\n * @return {Object}\n *   - {String} html\n *   - {Boolean} closing\n */\nfunction getAttrs(html) {\n  var i = _.spaceIndex(html);\n  if (i === -1) {\n    return {\n      html: \"\",\n      closing: html[html.length - 2] === \"/\"\n    };\n  }\n  html = _.trim(html.slice(i + 1, -1));\n  var isClosing = html[html.length - 1] === \"/\";\n  if (isClosing) html = _.trim(html.slice(0, -1));\n  return {\n    html: html,\n    closing: isClosing\n  };\n}\n\n/**\n * shallow copy\n *\n * @param {Object} obj\n * @return {Object}\n */\nfunction shallowCopyObject(obj) {\n  var ret = {};\n  for (var i in obj) {\n    ret[i] = obj[i];\n  }\n  return ret;\n}\n\n/**\n * FilterXSS class\n *\n * @param {Object} options\n *        whiteList, onTag, onTagAttr, onIgnoreTag,\n *        onIgnoreTagAttr, safeAttrValue, escapeHtml\n *        stripIgnoreTagBody, allowCommentTag, stripBlankChar\n *        css{whiteList, onAttr, onIgnoreAttr} `css=false` means don't use `cssfilter`\n */\nfunction FilterXSS(options) {\n  options = shallowCopyObject(options || {});\n\n  if (options.stripIgnoreTag) {\n    if (options.onIgnoreTag) {\n      console.error(\n        'Notes: cannot use these two options \"stripIgnoreTag\" and \"onIgnoreTag\" at the same time'\n      );\n    }\n    options.onIgnoreTag = DEFAULT.onIgnoreTagStripAll;\n  }\n\n  options.whiteList = options.whiteList || DEFAULT.whiteList;\n  options.onTag = options.onTag || DEFAULT.onTag;\n  options.onTagAttr = options.onTagAttr || DEFAULT.onTagAttr;\n  options.onIgnoreTag = options.onIgnoreTag || DEFAULT.onIgnoreTag;\n  options.onIgnoreTagAttr = options.onIgnoreTagAttr || DEFAULT.onIgnoreTagAttr;\n  options.safeAttrValue = options.safeAttrValue || DEFAULT.safeAttrValue;\n  options.escapeHtml = options.escapeHtml || DEFAULT.escapeHtml;\n  this.options = options;\n\n  if (options.css === false) {\n    this.cssFilter = false;\n  } else {\n    options.css = options.css || {};\n    this.cssFilter = new FilterCSS(options.css);\n  }\n}\n\n/**\n * start process and returns result\n *\n * @param {String} html\n * @return {String}\n */\nFilterXSS.prototype.process = function(html) {\n  // compatible with the input\n  html = html || \"\";\n  html = html.toString();\n  if (!html) return \"\";\n\n  var me = this;\n  var options = me.options;\n  var whiteList = options.whiteList;\n  var onTag = options.onTag;\n  var onIgnoreTag = options.onIgnoreTag;\n  var onTagAttr = options.onTagAttr;\n  var onIgnoreTagAttr = options.onIgnoreTagAttr;\n  var safeAttrValue = options.safeAttrValue;\n  var escapeHtml = options.escapeHtml;\n  var cssFilter = me.cssFilter;\n\n  // remove invisible characters\n  if (options.stripBlankChar) {\n    html = DEFAULT.stripBlankChar(html);\n  }\n\n  // remove html comments\n  if (!options.allowCommentTag) {\n    html = DEFAULT.stripCommentTag(html);\n  }\n\n  // if enable stripIgnoreTagBody\n  var stripIgnoreTagBody = false;\n  if (options.stripIgnoreTagBody) {\n    var stripIgnoreTagBody = DEFAULT.StripTagBody(\n      options.stripIgnoreTagBody,\n      onIgnoreTag\n    );\n    onIgnoreTag = stripIgnoreTagBody.onIgnoreTag;\n  }\n\n  var retHtml = parseTag(\n    html,\n    function(sourcePosition, position, tag, html, isClosing) {\n      var info = {\n        sourcePosition: sourcePosition,\n        position: position,\n        isClosing: isClosing,\n        isWhite: whiteList.hasOwnProperty(tag)\n      };\n\n      // call `onTag()`\n      var ret = onTag(tag, html, info);\n      if (!isNull(ret)) return ret;\n\n      if (info.isWhite) {\n        if (info.isClosing) {\n          return \"</\" + tag + \">\";\n        }\n\n        var attrs = getAttrs(html);\n        var whiteAttrList = whiteList[tag];\n        var attrsHtml = parseAttr(attrs.html, function(name, value) {\n          // call `onTagAttr()`\n          var isWhiteAttr = _.indexOf(whiteAttrList, name) !== -1;\n          var ret = onTagAttr(tag, name, value, isWhiteAttr);\n          if (!isNull(ret)) return ret;\n\n          if (isWhiteAttr) {\n            // call `safeAttrValue()`\n            value = safeAttrValue(tag, name, value, cssFilter);\n            if (value) {\n              return name + '=\"' + value + '\"';\n            } else {\n              return name;\n            }\n          } else {\n            // call `onIgnoreTagAttr()`\n            var ret = onIgnoreTagAttr(tag, name, value, isWhiteAttr);\n            if (!isNull(ret)) return ret;\n            return;\n          }\n        });\n\n        // build new tag html\n        var html = \"<\" + tag;\n        if (attrsHtml) html += \" \" + attrsHtml;\n        if (attrs.closing) html += \" /\";\n        html += \">\";\n        return html;\n      } else {\n        // call `onIgnoreTag()`\n        var ret = onIgnoreTag(tag, html, info);\n        if (!isNull(ret)) return ret;\n        return escapeHtml(html);\n      }\n    },\n    escapeHtml\n  );\n\n  // if enable stripIgnoreTagBody\n  if (stripIgnoreTagBody) {\n    retHtml = stripIgnoreTagBody.remove(retHtml);\n  }\n\n  return retHtml;\n};\n\nmodule.exports = FilterXSS;\n","/**\n * xss\n *\n * @author Zongmin Lei<leizongmin@gmail.com>\n */\n\nvar DEFAULT = require(\"./default\");\nvar parser = require(\"./parser\");\nvar FilterXSS = require(\"./xss\");\n\n/**\n * filter xss function\n *\n * @param {String} html\n * @param {Object} options { whiteList, onTag, onTagAttr, onIgnoreTag, onIgnoreTagAttr, safeAttrValue, escapeHtml }\n * @return {String}\n */\nfunction filterXSS(html, options) {\n  var xss = new FilterXSS(options);\n  return xss.process(html);\n}\n\nexports = module.exports = filterXSS;\nexports.filterXSS = filterXSS;\nexports.FilterXSS = FilterXSS;\nfor (var i in DEFAULT) exports[i] = DEFAULT[i];\nfor (var i in parser) exports[i] = parser[i];\n\n// using `xss` on the browser, output `filterXSS` to the globals\nif (typeof window !== \"undefined\") {\n  window.filterXSS = module.exports;\n}\n\n// using `xss` on the WebWorker, output `filterXSS` to the globals\nfunction isWorkerEnv() {\n  return typeof self !== 'undefined' && typeof DedicatedWorkerGlobalScope !== 'undefined' && self instanceof DedicatedWorkerGlobalScope;\n}\nif (isWorkerEnv()) {\n  self.filterXSS = module.exports;\n}\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (cap = this.rules.nptable.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (cap = this.rules.table.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(cap[1]);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      var lastParenIndex = findClosingBracket(cap[2], '()');\n      if (lastParenIndex > -1) {\n        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, infostring, escaped) {\n  var lang = (infostring || '').match(/\\S*/)[0];\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, slugger) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + slugger.slug(raw)\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n  this.slugger = new Slugger();\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n      var checked = this.token.checked;\n      var task = this.token.task;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n      return this.renderer.listitem(body, task, checked);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n    default: {\n      var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n      if (this.options.silent) {\n        console.log(errMsg);\n      } else {\n        throw new Error(errMsg);\n      }\n    }\n  }\n};\n\n/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {};\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  var slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-');\n\n  if (this.seen.hasOwnProperty(slug)) {\n    var originalSlug = slug;\n    do {\n      this.seen[originalSlug]++;\n      slug = originalSlug + '-' + this.seen[originalSlug];\n    } while (this.seen.hasOwnProperty(slug));\n  }\n  this.seen[slug] = 0;\n\n  return slug;\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  var level = 0;\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","import xss from 'xss';\nimport marked from 'marked';\n\nmarked.setOptions({ breaks: true });\n\nexport default class Markdown extends React.Component {\n\tstate = {\n\t\ttext:\n\t\t\t'# Make a header like this\\n## Make a subheader like this\\n**Make bold text like this**\\n[Make a link like this](https://www.google.com)\\n`Make inline code like this`\\n```\\nMake a block of code like this\\n```\\n![Make an image with alt text like this](https://camo.githubusercontent.com/a72e0b86ffbdcf7bfcb753fca5084d4a58a3037c/68747470733a2f2f63646e302e69636f6e66696e6465722e636f6d2f646174612f69636f6e732f6f637469636f6e732f313032342f6d61726b646f776e2d3235362e706e67)\\n- Make\\n- a\\n- list\\n- like\\n- this\\n> Make a blockquote like this'\n\t};\n\n\tupdate = event => {\n\t\tthis.setState({ text: event.target.value });\n\t};\n\n\trender() {\n\t\t//Use anchor tag instead of link to get rid of CDN if needed\n\t\treturn (\n\t\t\t<div id='container'>\n\t\t\t\t<h1 id='title'>Markdown Previewer</h1>\n\t\t\t\t<textarea id='editor' onChange={this.update} value={this.state.text} />\n\t\t\t\t<div\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: xss(marked(this.state.text)) }}\n\t\t\t\t\tid='preview'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import Markdown from './Markdown';\n\nReactDOM.render(<Markdown />, document.getElementById('root'));\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}